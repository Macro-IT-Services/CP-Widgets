import React from 'react';

const SvgIndicator = props => {
  const { value = 0, color = '#fff', type = 'thermo', style } = props;

  let svg;
  if (type === 'thermo') {
    // value 100%..0% -> 28(max)..100(min)
    //100-28 = 72
    const valueNorm = 100 - value / 1.39; //00..72  100/72=1.38(8)

    svg = (
      <svg
        viewBox="0 0 72 144"
        xmlns="http://www.w3.org/2000/svg"
        style={style}
      >
        <path
          fill={color}
          d="M54.0002 108C54.0002 117.941 45.9413 126 36.0002 126C26.0591 126 18.0002 117.941 18.0002 108C18.0002 98.0589 26.0591 90 36.0002 90C45.9413 90 54.0002 98.0589 54.0002 108ZM63.0002 84.1913C68.6004 90.5372 72.0002 98.8709 72.0002 108C72.0002 127.883 55.8837 144 36.0002 144C35.9161 144 35.8289 144 35.7445 143.999C15.9721 143.862 -0.10019 127.585 0.000778312 107.812C0.0469033 98.7567 3.4385 90.4936 9.00021 84.1913V27C9.00021 12.0884 21.0886 0 36.0002 0C50.9118 0 63.0002 12.0884 63.0002 27V84.1913ZM58.5002 108C58.5002 98.3422 53.0524 93.3216 49.5002 89.2963V27C49.5002 19.5562 43.444 13.5 36.0002 13.5C28.5564 13.5 22.5002 19.5562 22.5002 27V89.2963C18.9193 93.3542 13.5494 98.3244 13.5005 107.881C13.4375 120.221 23.5026 130.414 35.8382 130.499L36.0002 130.5C48.4067 130.5 58.5002 120.407 58.5002 108Z"
        />
        <line
          x1="36"
          y1={valueNorm}
          x2="36"
          y2="100"
          stroke={color}
          strokeWidth="18"
          strokeLinecap="round"
        >
          <animate attributeName="y1" from="100" to={valueNorm} dur="500ms" />
        </line>
      </svg>
    );
  } //if

  if (type === 'tacho') {
    // value 0%..100% -> -90(min)..+90(max)
    const valueNorm = value * 1.8 - 90;
    //console.log('!!',valueNorm)
    svg = (
      <svg
        viewBox="0 0 144 112"
        xmlns="http://www.w3.org/2000/svg"
        style={style}
      >
        <path
          fill={color}
          d="M104,72c0,4.4,3.6,8,8,8s8-3.6,8-8s-3.6-8-8-8S104,67.6,104,72z M72,64c-8.3,0-16,7.2-16,16
	c0,2.9,0.8,5.6,2.2,8h27.6c1.4-2.4,2.2-5.1,2.2-8C88,71.6,80.5,64,72,64z M80,32c0-4.4-3.6-8-8-8s-8,3.6-8,8s3.6,8,8,8
	S80,36.4,80,32z M32,64c-4.4,0-8,3.6-8,8s3.6,8,8,8s8-3.6,8-8S36.4,64,32,64z M44,52c4.4,0,8-3.6,8-8s-3.6-8-8-8s-8,3.6-8,8
	S39.6,52,44,52z M0,72c0,13.2,3.6,25.6,9.8,36.2c1.4,2.4,4.1,3.8,6.9,3.8h110.8c2.8,0,5.5-1.4,6.9-3.8c6.2-10.6,9.8-23,9.8-36.2
	c0-39.8-32.2-72-72-72S0,32.2,0,72z M12,72c0-33.1,26.9-60,60-60s60,26.9,60,60c0,9.8-2.4,19.4-6.9,28H18.9C14.4,91.4,12,81.8,12,72
	z"
        />
        <circle fill={color} cx="100" cy="44" r="8" />
        <line
          x1="72"
          y1="64"
          x2="72"
          y2="30"
          stroke={color}
          strokeWidth="16"
          strokeLinecap="round"
          transform={`rotate(${valueNorm} 72 72)`}
        >
          <animateTransform
            attributeName="transform"
            type="rotate"
            from="-90 72 72"
            to={`${valueNorm} 72 72`}
            dur="500ms"
          />
        </line>
      </svg>
    );
  }

  return svg;
};

export default SvgIndicator;
